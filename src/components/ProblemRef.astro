---
import type { InferEntrySchema } from "astro:content"
import { Link } from "lucide-astro"
import LaTeX from "~/components/LaTeX.astro"
import { convertContestIdToSlug } from "~/lib/convertContestIdToSlug"

type Props = {
  contestId: string
  problemIndex: number
  problemNumber: string
  problemTitle: string
  problemAuthor?: string
  editorial?: InferEntrySchema<"editorials">
}

const {
  contestId,
  problemIndex,
  problemNumber,
  problemTitle,
  problemAuthor,
  editorial,
} = Astro.props
---

<tr>
  <td>{problemNumber}</td>
  <td class="hover">
    <a
      href={`https://www.acmicpc.net/contest/problem/${contestId}/${problemIndex}`}
      target="_blank"><LaTeX>{problemTitle}</LaTeX></a
    >
  </td>
  <td>{problemAuthor}</td>
  <td
    >{
      editorial && (
        <a
          href={`/editorial/${convertContestIdToSlug(editorial.contest)}/${editorial.index}`}
        >
          <Link class="h-5 hover" />
        </a>
      )
    }</td
  >
</tr>
